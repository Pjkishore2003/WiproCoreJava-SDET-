package StepDefinitions;

import java.time.Duration;

import org.openqa.selenium.WebDriver;
import org.openqa.selenium.chrome.ChromeDriver;

import io.cucumber.java.en.*;
import pages.Registrationpage;

public class StudentFormSteps {

    WebDriver driver;
    StudentRegistrationPage formPage;

    @Given("User is on the Selenium Practice Registration page")
    public void user_is_on_the_selenium_practice_registration_page() {
        driver = new ChromeDriver();
        driver.manage().window().maximize();
        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));
        driver.get("https://www.tutorialspoint.com/selenium/practice/selenium_automation_practice.php");

        formPage = new StudentRegistrationPage(driver);
    }

    @When("User enters Name {string}")
    public void user_enters_name(String name) throws InterruptedException {
        formPage.enterName(name);
    }

    @When("User enters Email {string}")
    public void user_enters_email(String email) throws InterruptedException {
        formPage.enterEmail(email);
    }

    @When("User selects Gender {string}")
    public void user_selects_gender(String gender) throws InterruptedException {
        formPage.selectGender(gender);
    }

    @When("User enters Mobile Number {string}")
    public void user_enters_mobile_number(String mobile) throws InterruptedException {
        formPage.enterMobileNumber(mobile);
    }

    @When("User enters Date of Birth {string}")
    public void user_enters_date_of_birth(String dob) throws InterruptedException {
        formPage.enterDateOfBirth(dob);
    }

    @When("User enters Subject {string}")
    public void user_enters_subject(String subject) throws InterruptedException {
        formPage.enterSubject(subject);
    }

    @When("User selects Hobbies {string}")
    public void user_selects_hobbies(String hobby) throws InterruptedException {
        formPage.selectHobby(hobby);
    }

    @When("User uploads Picture {string}")
    public void user_uploads_picture(String path) throws InterruptedException {
        formPage.uploadPicture(path);
    }

    @When("User enters Current Address {string}")
    public void user_enters_current_address(String address) throws InterruptedException {
        formPage.enterCurrentAddress(address);
    }

    @When("User selects State {string} and City {string}")
    public void user_selects_state_and_city(String state, String city) throws InterruptedException {
        formPage.selectStateAndCity(state, city);
    }

    @Then("User submits the form")
    public void user_submits_the_form() throws InterruptedException {
        formPage.clickSubmit();
    }

    @Then("User should see the confirmation message")
    public void user_should_see_the_confirmation_message() throws InterruptedException {
        formPage.verifySubmission();
        driver.quit();
    }
}
